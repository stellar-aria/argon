<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Argon: Argon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Argon<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="classArgon.html">Argon</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p><a href="https://choosealicense.com/licenses/mit/"><img src="https://img.shields.io/github/license/stellar-aria/argon.svg?style=flat-square&amp;color=FF0000&amp;label=License" alt="License" style="pointer-events: none;" class="inline"/></a> <img src="https://img.shields.io/badge/ARM-v7%20|%20v8+-orange.svg?style=flat-square" alt="Archs" style="pointer-events: none;" class="inline"/> <a href="https://en.wikipedia.org/wiki/C%2B%2B23"><img src="https://img.shields.io/badge/C++-23-yellow.svg?style=flat-square" alt="C++ Version" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/stellar-aria/argon/actions"><img src="https://img.shields.io/github/actions/workflow/status/stellar-aria/argon/tests.yml?style=flat-square&amp;label=Build" alt="GitHub Actions Workflow Status" class="inline"/></a> <a href="https://github.com/stellar-aria/argon/releases/latest"><img src="https://img.shields.io/github/v/release/stellar-aria/argon?style=flat-square&amp;color=blue&amp;label=Release" alt="GitHub Release" class="inline"/></a> <a href="https://github.com/stellar-aria/argon"><img src="https://img.shields.io/badge/Ar-18-8A2BE2?style=flat-square" alt="Argon" class="inline"/></a></p>
<p><a class="el" href="classArgon.html">Argon</a> is a library that provides a sane, minimal-overhead C++ interface to ARM's NEON SIMD intrinsics.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Why?</h1>
<p><a class="el" href="classArgon.html">Argon</a> grew out of a desire to use C++ abstractions for vector intrinsics, without sacrificing expressiveness or specificity. Most C++ vector libraries (<a href="https://github.com/google/highway">highway</a>, <a href="https://github.com/xtensor-stack/xsimd">xsimd</a>) abstract away all platform uniqueness in favor of common denominators. When considering the use case of those libraries, namely HPC or multi-platform portability, that's a strength. Unfortunately, when you're targeting a very specific subset of those architectures, or you have one architecture that needs to be optimized above all others, such abstractions fall short.</p>
<p>This is where <a class="el" href="classArgon.html">Argon</a> was created to exist: A NEON-first, others-second zero-overhead abstraction library with modern constructs and capabilities.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
What Argon is:</h3>
<ul>
<li>A low-level intrinsics abstraction layer with sane naming conventions and overloaded functions</li>
<li>Higher-level encapsulated vector object types built on that layer</li>
</ul>
<h3><a class="anchor" id="autotoc_md3"></a>
What Argon is not (yet?):</h3>
<ul>
<li>A library of optimized commonly used algorithms</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
API Documentation</h1>
<p>Documentation on usage and internal details (generated by Doxygen) can be found <a href="https://stellar-aria.github.io/argon/">here</a></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Object-oriented Argon interface</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/argon.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classArgon.html">Argon&lt;float&gt;</a> triangle(<a class="code hl_class" href="classArgon.html">Argon&lt;float&gt;</a> phase) {</div>
<div class="line">  phase = argon::ternary(phase &gt; 0.5f, 1.f, 0.f) - phase;</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_class" href="classArgon.html">Argon</a>{-1.f}.<a class="code hl_function" href="classargon_1_1Vector.html#a30eb1bff5f1953844facf92590d1d5ed">MultiplyAdd</a>(phase.<a class="code hl_function" href="classargon_1_1Vector.html#ad91da6dc5608aae40cc630ac5b4fb731">Absolute</a>(), 4.f);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <span class="keywordtype">float</span> frequency = 440.f;</div>
<div class="line">  <span class="keywordtype">float</span> phase_increment = frequency / 44100.f;</div>
<div class="line">  <a class="code hl_class" href="classArgon.html">Argon&lt;float&gt;</a> phase = <a class="code hl_class" href="classArgon.html">Argon</a>{0}.<a class="code hl_function" href="classargon_1_1Vector.html#a30eb1bff5f1953844facf92590d1d5ed">MultiplyAdd</a>(phase_increment, <a class="code hl_function" href="classargon_1_1Vector.html#a136fe4f1f1e3bb707a9633ef6dcbbb4d">Argon&lt;float&gt;::Iota</a>(0))</div>
<div class="line">  <a class="code hl_class" href="classArgon.html">Argon&lt;float&gt;</a> wave = triangle(phase);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Print the result</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; result.size(); ++i) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Result[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; result[i] &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclassArgon_html"><div class="ttname"><a href="classArgon.html">Argon</a></div><div class="ttdef"><b>Definition</b> argon_full.hpp:24</div></div>
<div class="ttc" id="aclassargon_1_1Vector_html_a136fe4f1f1e3bb707a9633ef6dcbbb4d"><div class="ttname"><a href="classargon_1_1Vector.html#a136fe4f1f1e3bb707a9633ef6dcbbb4d">argon::Vector&lt; simd::Vec128_t&lt; ScalarType &gt; &gt;::Iota</a></div><div class="ttdeci">static ace argon_type Iota(scalar_type start)</div><div class="ttdef"><b>Definition</b> vector.hpp:154</div></div>
<div class="ttc" id="aclassargon_1_1Vector_html_a30eb1bff5f1953844facf92590d1d5ed"><div class="ttname"><a href="classargon_1_1Vector.html#a30eb1bff5f1953844facf92590d1d5ed">argon::Vector::MultiplyAdd</a></div><div class="ttdeci">ace argon_type MultiplyAdd(argon_type b, argon_type c) const</div><div class="ttdoc">Multiply two vectors and add a third vector.</div><div class="ttdef"><b>Definition</b> vector.hpp:441</div></div>
<div class="ttc" id="aclassargon_1_1Vector_html_ad91da6dc5608aae40cc630ac5b4fb731"><div class="ttname"><a href="classargon_1_1Vector.html#ad91da6dc5608aae40cc630ac5b4fb731">argon::Vector::Absolute</a></div><div class="ttdeci">ace argon_type Absolute() const</div><div class="ttdoc">Get the absolute value of the vector.</div><div class="ttdef"><b>Definition</b> vector.hpp:553</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Low-level NEON interface</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/arm_simd.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  <span class="comment">// Example: Multiply-add two vectors using NEON</span></div>
<div class="line">  float32x4_t a = {1.0f, 2.0f, 3.0f, 4.0f};</div>
<div class="line">  float32x4_t b = {5.0f, 6.0f, 7.0f, 8.0f};</div>
<div class="line">  float32x4_t c = {9.0f, 10.0f, 11.0f, 12.0f};</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Perform vector multiply-add</span></div>
<div class="line">  float32x4_t result = neon::multiply_add(a, b, c);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Print the result</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; result.size(); ++i) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Result[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; result[i] &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
Key Differences between NEON and MVE</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">NEON   </th><th class="markdownTableHeadNone">MVE    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Number of quad-word registers   </td><td class="markdownTableBodyNone">16   </td><td class="markdownTableBodyNone">8    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Narrowing support (see note)   </td><td class="markdownTableBodyNone">to lower double-word register   </td><td class="markdownTableBodyNone">to even or odd scalar registers    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Double-word instructions   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:x:    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">64-bit floating point   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:x:    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Predicated lane instructions   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Native Scatter-Gather   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md9"></a>
Narrowing support</h2>
<ul>
<li>NEON supports double-word and quad-word operations, MVE only has quad-word.<ul>
<li>This means that operations that <em>would</em> result in a double-word (such as narrowing) instead go into either the top or bottom registers of the current quadword.</li>
<li>i.e. in NEON, an int32x4_t narrow to int16x4_t {x, x, x, x} =&gt; {x, x, x, x, o, o, o, o}</li>
<li>while in MVE they are placed in the bottom or top of a pair: {x, x, x, x} =&gt; {x, o, x, o, x, o, x, o}</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
Backend Support</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Backend   </th><th class="markdownTableHeadNone">Architectures   </th><th class="markdownTableHeadNone">Status   </th><th class="markdownTableHeadNone">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://developer.arm.com/Architectures/Neon">ARM NEON (ARMv7)</a>   </td><td class="markdownTableBodyNone">VFPv3, VFPv3-FP16, VFPv4   </td><td class="markdownTableBodyNone">:white_check_mark:   </td><td class="markdownTableBodyNone">Primary target    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://developer.arm.com/Architectures/Neon">ARM NEON (ARMv8+)</a>   </td><td class="markdownTableBodyNone">AArch32, AArch64   </td><td class="markdownTableBodyNone">:white_check_mark:   </td><td class="markdownTableBodyNone">Primary target    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://developer.arm.com/Architectures/Helium">ARM MVE (Helium)</a>   </td><td class="markdownTableBodyNone">ARMv8.1-M   </td><td class="markdownTableBodyNone">:warning:   </td><td class="markdownTableBodyNone">Secondary target (in-progress)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/simd-everywhere/simde">SIMDe</a>   </td><td class="markdownTableBodyNone">x86-64(SSE2/AVX), RISCV   </td><td class="markdownTableBodyNone">:white_check_mark:   </td><td class="markdownTableBodyNone">Tertiary target, used for portability and testing   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md11"></a>
Compatibility</h1>
<p><a class="el" href="classArgon.html">Argon</a> can be compiled using the following tool sets:</p>
<p>Compilers:</p>
<ul>
<li>GCC 14.2 or later</li>
<li>LLVM Embedded Toolchain for ARM 19 or later (ARMv7-A)</li>
<li>LLVM/Clang 20.1 or later (AArch32/AArch64)</li>
<li>MSVC 19.44 or later</li>
</ul>
<p>Testing is currently done across a range of platforms and compilers, including:</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Architectures</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Compiler   </th><th class="markdownTableHeadNone">ARMv7   </th><th class="markdownTableHeadNone">ARMv8   </th><th class="markdownTableHeadNone">ARMv8.1-M   </th><th class="markdownTableHeadNone">X86-64    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Clang   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">(TBD)   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MSVC   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">(TBD)   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md13"></a>
Target ABI</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Compiler   </th><th class="markdownTableHeadNone">Bare-metal   </th><th class="markdownTableHeadNone">Linux   </th><th class="markdownTableHeadNone">macOS   </th><th class="markdownTableHeadNone">Windows    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GCC   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:warning:*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Clang   </td><td class="markdownTableBodyNone">:warning:*   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:warning:**   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MSVC   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td></tr>
</table>
<p>*: Windows/GCC (via MinGW64) and Bare-metal/Clang (via the LLVM Embedded Toolchain for ARM) are used regularly but not tested via CI.</p>
<p>**: In order to compile with Clang on macOS, you'll need to use the brew-bundled versions of libc++, as Apple's system libraries do not support required C++23 features.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Host Platform</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Host   </th><th class="markdownTableHeadNone">ARMv7   </th><th class="markdownTableHeadNone">ARMv8   </th><th class="markdownTableHeadNone">X86-64    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Linux   </td><td class="markdownTableBodyNone">:warning:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">macOS   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td><td class="markdownTableBodyNone">:heavy_check_mark:    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Windows   </td><td class="markdownTableBodyNone">:x:   </td><td class="markdownTableBodyNone">(TBD)   </td><td class="markdownTableBodyNone">:heavy_check_mark:   </td></tr>
</table>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
