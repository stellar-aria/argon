<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Argon: Vectorized Views</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Argon<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2vectorize.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Vectorized Views</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md13"></a></p>
<p>The <a class="el" href="classArgon.html">Argon</a> library provides several vectorized views for processing data using SIMD operations. These views work with contiguous ranges and provide iterator-based access to the vectorized data.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Vectorized read (vectorize::load)</h1>
<p>The <code>load</code> view presents a read-only view of a contiguous set of data (i.e. a <code>std::ranges::input_range</code>). <code>Load</code> is lazy, and occurs only on dereference (and on every dereference, as it is not memoized).</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/vectorize/load.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  std::array&lt;int32_t, 512&gt; data;</div>
<div class="line">  data.fill(5);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Read data using SIMD loads</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vec : <a class="code hl_struct" href="structargon_1_1vectorize_1_1load.html">argon::vectorize::load</a>(data)) {</div>
<div class="line">      <span class="comment">// Process loaded data</span></div>
<div class="line">      <span class="comment">// vec is loaded using SIMD load operations</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="astructargon_1_1vectorize_1_1load_html"><div class="ttname"><a href="structargon_1_1vectorize_1_1load.html">argon::vectorize::load</a></div><div class="ttdoc">A view that loads data from a contiguous range into SIMD vectors.</div><div class="ttdef"><b>Definition</b> load.hpp:36</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md15"></a>
Vectorized write (vectorize::store)</h1>
<p>The <code>store</code> presents a write-only view of a contiguous set of data (i.e. a <code>std::ranges::output_range</code>). <code>StoreTo</code> is lazy, and occurs <em>only</em> on incrementing or decrementing the iterator.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/vectorize/store.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  std::array&lt;int32_t, 512&gt; data;</div>
<div class="line">  data.fill(0);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Write data using SIMD stores</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vec : <a class="code hl_struct" href="structargon_1_1vectorize_1_1store.html">argon::vectorize::store</a>(data)) {</div>
<div class="line">      vec = {1, 2, 3, 4}; <span class="comment">// Values are stored using SIMD store operations</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="astructargon_1_1vectorize_1_1store_html"><div class="ttname"><a href="structargon_1_1vectorize_1_1store.html">argon::vectorize::store</a></div><div class="ttdef"><b>Definition</b> store.hpp:17</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16"></a>
Vectorized In-place Read/Write (vectorize::load_store)</h1>
<p>The <code>load_store</code> view allows you to process data in-place using SIMD operations. Internally, a vector is stored in the iterator that is loaded on creation, and then stored on increment, before the next element is loaded. Dereferencing accesses the internal stored vector, and will not <code>Load</code> again without a manual <code>.reload()</code> call.</p>
<p>Note: If you do not need <em>both</em> read <em>and</em> write on the same range, use either <code>vectorize::load</code> or <code>vectorize::store</code> instead, as <code>vectorize::load_store</code> incurs the read latency and writeback penalty of them combined.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/vectorize.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  std::array&lt;int32_t, 512&gt; data;</div>
<div class="line">  data.fill(5);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Increment each element using SIMD operations</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vec : <a class="code hl_struct" href="structargon_1_1vectorize_1_1load__store.html">argon::vectorize::load_store</a>(data)) {</div>
<div class="line">      vec = vec + 1;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="astructargon_1_1vectorize_1_1load__store_html"><div class="ttname"><a href="structargon_1_1vectorize_1_1load__store.html">argon::vectorize::load_store</a></div><div class="ttdoc">A SIMD vectorized view of a range of data.</div><div class="ttdef"><b>Definition</b> load_store.hpp:26</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17"></a>
Interleaved Data Access</h1>
<p>For working with interleaved data (like RGB values), <a class="el" href="classArgon.html">Argon</a> provides specialized views:</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Loading Interleaved Data</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/vectorize/load.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  std::array&lt;int32_t, 512&gt; data; <span class="comment">// Interleaved data (e.g. RGBRGBRGB...)</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Load interleaved data with stride of 3 (RGB)</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [r, g, b] : <a class="code hl_struct" href="structargon_1_1vectorize_1_1load__interleaved.html">argon::vectorize::load_interleaved&lt;3&gt;</a>(data)) {</div>
<div class="line">      <span class="comment">// Process r, g, b vectors separately</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="astructargon_1_1vectorize_1_1load__interleaved_html"><div class="ttname"><a href="structargon_1_1vectorize_1_1load__interleaved.html">argon::vectorize::load_interleaved</a></div><div class="ttdef"><b>Definition</b> load_interleaved.hpp:15</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md19"></a>
Storing Interleaved Data</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;argon/vectorize/store.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">  std::array&lt;int32_t, 512&gt; data;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Store interleaved data with stride of 2</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [even, odd] : <a class="code hl_struct" href="structargon_1_1vectorize_1_1store__interleaved.html">argon::vectorize::store_interleaved&lt;2&gt;</a>(data)) {</div>
<div class="line">      even = {0, 2, 4, 6};  <span class="comment">// Even indices</span></div>
<div class="line">      odd = {1, 3, 5, 7};   <span class="comment">// Odd indices</span></div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="astructargon_1_1vectorize_1_1store__interleaved_html"><div class="ttname"><a href="structargon_1_1vectorize_1_1store__interleaved.html">argon::vectorize::store_interleaved</a></div><div class="ttdef"><b>Definition</b> store_interleaved.hpp:15</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md20"></a>
Key Features</h1>
<ul>
<li>All views work with contiguous ranges (arrays, vectors, spans)</li>
<li>Automatic alignment and size handling</li>
<li>Efficient SIMD operations through <a class="el" href="classArgon.html">Argon</a>'s SIMD wrappers</li>
<li>Iterator-based interface compatible with C++ ranges</li>
<li>Support for different data types (int32_t, float, etc.)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21"></a>
Notes</h1>
<ol type="1">
<li>The number of elements processed in each iteration depends on the SIMD vector size for the target architecture</li>
<li>Data size should ideally be aligned to the SIMD vector size</li>
<li>Non-aligned sizes are handled automatically (remaining elements are not processed)</li>
<li>Interleaved operations support strides of 2, 3, or 4</li>
</ol>
<h1><a class="anchor" id="autotoc_md22"></a>
Error Handling</h1>
<p>The views handle common errors gracefully:</p>
<ul>
<li>Non-contiguous ranges: Will not compile</li>
<li>Invalid strides: Static assertions prevent invalid stride values</li>
<li>Misaligned sizes: Automatically handled by processing only aligned portions </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
